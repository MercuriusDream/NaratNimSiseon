~/workspace/backend$ python manage.py test_llm_with_pdf --session-id 54512 --force
2025-06-08 17:35:28,118 - api.tasks - INFO - tasks - <module> - 199 - âœ… Gemini API configured successfully with gemini-2.0-flash-lite model
ğŸ§ª Testing LLM extraction for session: 54512
ğŸ“„ Session: ì œ22ëŒ€ ì œ424íšŒ ì œ3ì°¨ êµ­íšŒë³¸íšŒì˜ (2025ë…„ 04ì›” 15ì¼)
ğŸ”— PDF URL: https://record.assembly.go.kr/assembly/viewer/minutes/download/pdf.do?id=54512
ğŸš€ Starting PDF processing...
2025-06-08 17:35:29,150 - api.tasks - INFO - tasks - is_celery_available - 227 - Celery broker_url not configured.
2025-06-08 17:35:29,162 - api.tasks - INFO - tasks - process_session_pdf - 2955 - ğŸ“„ Processing PDF for session: 54512 (force=True, debug=False)
2025-06-08 17:35:29,251 - api.tasks - INFO - tasks - process_session_pdf - 2990 - ğŸ“¥ Downloading PDF from: https://record.assembly.go.kr/assembly/viewer/minutes/download/pdf.do?id=54512
2025-06-08 17:35:34,337 - api.tasks - INFO - tasks - process_session_pdf - 3004 - ğŸ“¥ PDF for session 54512 downloaded to temp_files/session_54512_1749404130.pdf
2025-06-08 17:35:34,431 - api.tasks - INFO - tasks - process_session_pdf - 3018 - Extracting text from 84 pages in PDF for session 54512...
2025-06-08 17:35:39,024 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 20/84 pages...
2025-06-08 17:35:43,317 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 40/84 pages...
2025-06-08 17:35:47,465 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 60/84 pages...
2025-06-08 17:35:51,682 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 80/84 pages...
2025-06-08 17:35:51,925 - api.tasks - INFO - tasks - process_session_pdf - 3028 - ğŸ“„ Extracted ~118179 chars from PDF for session 54512.
2025-06-08 17:35:52,013 - api.tasks - INFO - tasks - process_session_pdf - 3052 - Bills context for session 54512 LLM: ì—¬ëŸ¬ ì˜ì•ˆ...
2025-06-08 17:35:52,013 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3322 - ğŸ” Checking LLM availability - model: True, genai: True
2025-06-08 17:35:52,013 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3368 - ğŸ§¹ Cleaning PDF text for session 54512
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - clean_pdf_text - 3304 - ğŸ§¹ Text cleaning: 118179 -> 118166 chars
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3370 - ğŸ“„ Cleaned text length: ~118166 chars
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3372 - ğŸ¤– Starting simplified bill-based statement processing for session PDF 54512.
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3409 - âš ï¸ No bill names found for session 54512, will process entire text as general discussion
2025-06-08 17:35:52,034 - api.tasks - INFO - tasks - process_session_pdf - 3084 - ğŸ—‘ï¸ Deleted temporary PDF: temp_files/session_54512_1749404130.pdf
âœ… PDF processing completed
ğŸ“Š Statements created: 2
ğŸ“ Latest statements:
  - ì •ì˜ˆì°¬: ê³µì•ˆ íŒŒê²¬ì— ëŒ€í•œ ì˜í˜¹ê³¼ ìš°ë ¤, êµ­ë¯¼ì˜ ì•ˆì „ê³¼ ìì¡´ì‹¬ì„ ì§€í‚¤ê¸° ìœ„í•œ ìš”ì²­ì— ê´€í•œ ì²­ì› (2025. 4. 14. ì •ì˜ˆì°¬ ì™¸ 50,606ì¸ êµ­ë¯¼ë™ì˜ë¡œ ì œì¶œ)(ì²­ì›ë²ˆ...
    Sentiment: -0.3, Bill: None
  - ë°•ì„±ì¤€: ê²ƒì€ ì „í˜•ì ì¸ ë‚´ë¡œë‚¨ë¶ˆì´ ì•„ë‹ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ìš°ì›ì‹ êµ­íšŒì˜ì¥ì€ ê¶Œí•œìŸì˜ì‹¬íŒì—ì„œ í•œë•ìˆ˜ ëŒ€í–‰ì˜ í—Œë²•ì¬íŒê´€í›„ë³´ì ì§€ëª… í–‰ìœ„ë¡œ êµ­ íšŒì˜ ì¸ì‚¬ì²­ë¬¸ê¶Œì´ ì¹¨í•´ë˜ì—ˆë‹¤ê³  ì£¼ì¥í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ì´ëŠ”...
    Sentiment: 0.4, Bill: None