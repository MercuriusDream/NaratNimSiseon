~/workspace/backend$ python manage.py test_llm_with_pdf --session-id 54512 --force
2025-06-08 17:35:28,118 - api.tasks - INFO - tasks - <module> - 199 - ✅ Gemini API configured successfully with gemini-2.0-flash-lite model
🧪 Testing LLM extraction for session: 54512
📄 Session: 제22대 제424회 제3차 국회본회의 (2025년 04월 15일)
🔗 PDF URL: https://record.assembly.go.kr/assembly/viewer/minutes/download/pdf.do?id=54512
🚀 Starting PDF processing...
2025-06-08 17:35:29,150 - api.tasks - INFO - tasks - is_celery_available - 227 - Celery broker_url not configured.
2025-06-08 17:35:29,162 - api.tasks - INFO - tasks - process_session_pdf - 2955 - 📄 Processing PDF for session: 54512 (force=True, debug=False)
2025-06-08 17:35:29,251 - api.tasks - INFO - tasks - process_session_pdf - 2990 - 📥 Downloading PDF from: https://record.assembly.go.kr/assembly/viewer/minutes/download/pdf.do?id=54512
2025-06-08 17:35:34,337 - api.tasks - INFO - tasks - process_session_pdf - 3004 - 📥 PDF for session 54512 downloaded to temp_files/session_54512_1749404130.pdf
2025-06-08 17:35:34,431 - api.tasks - INFO - tasks - process_session_pdf - 3018 - Extracting text from 84 pages in PDF for session 54512...
2025-06-08 17:35:39,024 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 20/84 pages...
2025-06-08 17:35:43,317 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 40/84 pages...
2025-06-08 17:35:47,465 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 60/84 pages...
2025-06-08 17:35:51,682 - api.tasks - INFO - tasks - process_session_pdf - 3027 - Processed 80/84 pages...
2025-06-08 17:35:51,925 - api.tasks - INFO - tasks - process_session_pdf - 3028 - 📄 Extracted ~118179 chars from PDF for session 54512.
2025-06-08 17:35:52,013 - api.tasks - INFO - tasks - process_session_pdf - 3052 - Bills context for session 54512 LLM: 여러 의안...
2025-06-08 17:35:52,013 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3322 - 🔍 Checking LLM availability - model: True, genai: True
2025-06-08 17:35:52,013 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3368 - 🧹 Cleaning PDF text for session 54512
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - clean_pdf_text - 3304 - 🧹 Text cleaning: 118179 -> 118166 chars
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3370 - 📄 Cleaned text length: ~118166 chars
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3372 - 🤖 Starting simplified bill-based statement processing for session PDF 54512.
2025-06-08 17:35:52,033 - api.tasks - INFO - tasks - process_pdf_text_for_statements - 3409 - ⚠️ No bill names found for session 54512, will process entire text as general discussion
2025-06-08 17:35:52,034 - api.tasks - INFO - tasks - process_session_pdf - 3084 - 🗑️ Deleted temporary PDF: temp_files/session_54512_1749404130.pdf
✅ PDF processing completed
📊 Statements created: 2
📝 Latest statements:
  - 정예찬: 공안 파견에 대한 의혹과 우려, 국민의 안전과 자존심을 지키기 위한 요청에 관한 청원 (2025. 4. 14. 정예찬 외 50,606인 국민동의로 제출)(청원번...
    Sentiment: -0.3, Bill: None
  - 박성준: 것은 전형적인 내로남불이 아닐 수 없습니다. 우원식 국회의장은 권한쟁의심판에서 한덕수 대행의 헌법재판관후보자 지명 행위로 국 회의 인사청문권이 침해되었다고 주장합니다. 그러나 이는...
    Sentiment: 0.4, Bill: None